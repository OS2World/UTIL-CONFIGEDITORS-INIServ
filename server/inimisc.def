DEFINITION MODULE INIMisc;

        (********************************************************)
        (*                                                      *)
        (*  Miscellaneous stuff that didn't fit anywhere else   *)
        (*                                                      *)
        (*  Programmer:         P. Moylan                       *)
        (*  Started:            17 May 1999                     *)
        (*  Last edited:        30 November 2008                *)
        (*  Status:             OK                              *)
        (*                                                      *)
        (********************************************************)


FROM SYSTEM IMPORT LOC, CARD16, CARD32;

FROM INIData IMPORT HINI;


PROCEDURE Swap2 (val: CARD16): CARD16;

    (* Returns the argument value in byte-reversed order.  This is needed       *)
    (* because network byte order is most significant byte first, whereas our   *)
    (* local host order is least significant byte first.                        *)

PROCEDURE Swap4 (val: CARD32): CARD32;

    (* Like Swap2, but for a four-byte argument. *)

PROCEDURE AddEOL (VAR (*INOUT*) buffer: ARRAY OF CHAR): CARDINAL;

    (* Appends a CRLF to the buffer contents, returns the total string length. *)

PROCEDURE IPToString (IP: ARRAY OF LOC;  VAR (*OUT*) result: ARRAY OF CHAR);

    (* Converts a four-byte IP address (in network byte order) to a             *)
    (* human-readable form.  There must be at least 17 character positions      *)
    (* available in the result array.                                           *)

PROCEDURE OpenINIFile (filename: ARRAY OF CHAR): HINI;

    (* Opens an INI file. *)
(*
PROCEDURE INIGet (hini: HINI;  name1, name2: ARRAY OF CHAR;
                                     VAR (*OUT*) variable: ARRAY OF LOC): BOOLEAN;

    (* Retrieves the value of a variable from the INI file.  Returns FALSE if   *)
    (* the variable was not found.                                              *)

PROCEDURE INIGetString (hini: HINI;  name1, name2: ARRAY OF CHAR;
                                    VAR (*OUT*) variable: ARRAY OF CHAR): BOOLEAN;

    (* Like INIGet, but we accept any size data that will fit in the variable,  *)
    (* and we add a Nul terminator in the case of a size mismatch.              *)

PROCEDURE INIPut (hini: HINI;  name1, name2: ARRAY OF CHAR;  variable: ARRAY OF LOC);

    (* Writes data to the INI file. *)
*)
END INIMisc.

